#include <globals.hh>
#include <G4RotationMatrix.hh>
#include <G4VSolid.hh>
#include <G4ThreeVector.hh>
#include <G4Box.hh>
#include <G4PVPlacement.hh>


//#include "ecal/ND280ECal.hh"
#include "ecal/ND280WAGASCIScintXConstructor.hh"

void ND280WAGASCIScintXConstructor::Init() {
  //SetMaximumHitLength( ND280WAGASCI::HitLength );
  //SetMaximumHitSagitta( ND280WAGASCI::HitSagitta );
    SetBarBase( ND280WAGASCI::BarWidth );
    SetBarHeight( ND280WAGASCI::BarHeight );
    SetLength( ND280WAGASCI::BarHeight );
    SetBarGap(0.0);
    SquareBar();
    MakeParallelBars();
    SetEdgeSpace(0.0);
}

void ND280WAGASCIScintXConstructor::SetUp(int n_bars,
                           double bar_length,
                           ND280WAGASCI::Detector detector) {
    SetBarNumber( n_bars );
    SetHeight( bar_length ); // length of an x-bar
    SetWidth(n_bars * ND280WAGASCI::BarWidth + 0.001*mm);
    //switch (detector) {
    //case ND280WAGASCI::kP0D:
    //SetSensitiveDetector("pec","segment");
    //break;
    //case ND280WAGASCI::kBrl:
    //case ND280WAGASCI::kDS:
    //SetSensitiveDetector("tec","segment");
    //break;
    //default:
    //G4Exception("Invalid detector for WAGASCI scintillator bars");
    //}
}
